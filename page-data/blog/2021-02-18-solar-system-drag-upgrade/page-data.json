{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/2021-02-18-solar-system-drag-upgrade/","result":{"data":{"markdownRemark":{"html":"<blockquote>\n<p><strong>이번 글에서 다룰 내용</strong>\n드래그 효과 업그레이드</p>\n</blockquote>\n<ul>\n<li>\n<ol>\n<li>trailing 효과</li>\n</ol>\n</li>\n<li>\n<ol start=\"2\">\n<li>밤하늘 배경 레이어 추가</li>\n<li>레이어 추가하기</li>\n<li>배경 레이어 칠하기</li>\n<li>그래디언트 설정하기</li>\n<li>빛나는 별 그리기</li>\n<li>태양 빛나는 효과 넣기</li>\n</ol>\n</li>\n</ul>\n<p><a href=\"/canvas/solar-system\">Solar System 애니메이션 참고</a>\n<br>\n<a href=\"/canvas/solar-system-drag\">Solar System 애니메이션 드래그 인터렉션 참고</a></p>\n<h1>애니메이션 업그레이드</h1>\n<ul>\n<li><a href=\"/canvas/solar-system-drag\">Solar System 드래그 인터렉션</a>에서 태양을 드래그해보면, 태양을 드래그하는건지 화면 전체가 이동하는 건지 헷갈린다</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/52592748/108348044-a35b7080-7224-11eb-9321-2883ac3abe60.gif\" alt=\"dragweird\"></p>\n<ul>\n<li>\n<p>드래그 되고 있다는 효과를 주기 위해 trailing효과를 주거나 단색이 아닌 배경을 그려볼 예정이다. 다만 둘 다 적용하는 방법은 찾지 못했다.</p>\n<ul>\n<li>trailing 효과</li>\n<li>별이 빛나는 배경</li>\n</ul>\n</li>\n</ul>\n<h2><a href=\"https://github.com/joey-ful/SolarSystem/commit/2022b7458fa9722289aa55be530b9da6e61241de\">1. trailing 효과</a></h2>\n<p><img src=\"https://user-images.githubusercontent.com/52592748/108345252-63df5500-7221-11eb-931d-7d14f21ecea8.gif\" alt=\"trailing\"></p>\n<ul>\n<li>trailing 효과는 간단하다</li>\n<li>매 프레임 애니메이션을 그리기 전, clearRect로 캔버스를 지우거나 fillRect로 캔버스를 특정 색으로 칠해주었다</li>\n<li>여기서 투명도가 들어간 색으로 칠해주면 지난번 애니메이션의 잔상이 남게 된다</li>\n</ul>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"javascript\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">//app.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">animate</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  window.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">requestAnimationFrame</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.animate.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">bind</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">));</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">// opacity 20%</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.ctx.fillStyle </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&#39;rgba(77, 87, 105, 0.2)&#39;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.ctx.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">fillRect</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">0</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">0</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.stageWidth, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.stageHeight);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">}</span></span></span></code></pre>\n<h2>2. 밤하늘 배경 레이어 추가</h2>\n<p><img src=\"https://user-images.githubusercontent.com/52592748/108346069-55de0400-7222-11eb-967a-c5d52b0ae648.gif\" alt=\"background\"></p>\n<ul>\n<li>trailing 대신에 배경 레이어를 추가하면 드래그 효과가 뚜렷하게 보인다</li>\n<li>\n<p>고정된 배경을 그리려고하는데 이를 위해서는 두 가지 정도의 방법을 생각해볼 수 있다</p>\n<ul>\n<li>매 프레임 배경을 그리는 방법으로 비효율적이지만 간단하다</li>\n<li>새로운 레이어에 배경을 그리고 그 위에 애니메이션을 그려준다</li>\n</ul>\n</li>\n</ul>\n<h3>레이어 추가하기</h3>\n<ul>\n<li>포토샵이나 피그마 등의 디자인 툴들은 레이어라는 기능을 제공한다</li>\n<li>캔버스 역시 여러개 만들 수 있으며 각각의 캔버스에 그림을 그릴 수 있다</li>\n<li>먼저 캔버스들을 한데 담을 수 있도록 stage를 생성했다</li>\n</ul>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"javascript\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">//app.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">constructor</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.stage </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> document.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">createElement</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&#39;div&#39;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.stage.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">setAttribute</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&#39;id&#39;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&#39;stage&#39;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  document.body.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">appendChild</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.stage);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">}</span></span></span></code></pre>\n<ul>\n<li>캔버스는 모두 같은 위치에 오도록 position: absolute를 해줬다</li>\n<li>stage도 높낮이 등을 설정해줬다</li>\n</ul>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"css\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">/*</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">  stylesheet.css</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">*/</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-9 grvsc-t4tStz-3\">canvas</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">position</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">: </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">absolute</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-10 grvsc-t4tStz-5\">#stage</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">position</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">: </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">relative</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">width</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">: </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">100</span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">%</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">height</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">: </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">100</span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">%</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">}</span></span></span></code></pre>\n<ul>\n<li>그 후 배경 캔버스를 만들어 stage에 넣어줬다</li>\n<li>\n<p>여기서 배경 캔버스를 먼저 append 해줘야지 배경 위에 그림이 그려진다</p>\n<ul>\n<li>더 위에 위치한 캔버스가 먼저 그려지는 것이라 추측\n<img src=\"https://user-images.githubusercontent.com/52592748/108316240-fff86480-71ff-11eb-9442-bc4f375ed261.png\" alt=\"image\"></li>\n<li>캔버스에 z-index를 적용하는 방법도 있다</li>\n</ul>\n</li>\n</ul>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"javascript\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">//app.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">constructor</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.backcanvas </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> document.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">createElement</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&#39;canvas&#39;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.backcanvas.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">setAttribute</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&#39;id&#39;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&#39;backcanvas&#39;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.backctx </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.backcanvas.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">getContext</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&#39;2d&#39;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.stage.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">appendChild</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.backcanvas);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.stage.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">appendChild</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.canvas);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">}</span></span></span></code></pre>\n<ul>\n<li>resize()를 할 때 배경 캔버스도 함께 사이즈 조정을 해야 한다</li>\n</ul>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"javascript\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">//app.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">resize</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.backcanvas.width </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.stageWidth </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">*</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">2</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.backcanvas.height </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.stageHeight </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">*</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">2</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.backctx.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">scale</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">2</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">2</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">}</span></span></span></code></pre>\n<h3>배경 레이어 칠하기</h3>\n<p><img src=\"https://user-images.githubusercontent.com/52592748/108346082-59718b00-7222-11eb-98a4-31be21296686.gif\" alt=\"singlecolorbackground\"></p>\n<ul>\n<li>이제 배경 레이어가 생겼으니 배경을 그리는 클래스를 생성해보자</li>\n<li>background.js 단색으로 캔버스를 채우는 클래스를 만들었다</li>\n<li>한번만 그릴 것이기 때문에 따로 draw()함수를 만드는 대신 constructor에서 바로 색칠하는 함수를 호출해주었다</li>\n</ul>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"javascript\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">//background.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">export</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">default</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">class</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-10 grvsc-t4tStz-5\">Background</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">constructor</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-11 grvsc-t4tStz-6\">ctx</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-11 grvsc-t4tStz-6\">stageWidth</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-11 grvsc-t4tStz-6\">stageHeight</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.stageWidth </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> stageWidth;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.stageHeight </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> stageHeight;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">colorBackground</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(ctx);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-10 grvsc-t4tStz-5\">colorBackground</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-11 grvsc-t4tStz-6\">ctx</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    ctx.fillStyle </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&#39;#214568&#39;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    ctx.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">fillRect</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">0</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">0</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.stageWidth, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.stageHeight);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">}</span></span></span></code></pre>\n<ul>\n<li>방금 생성한 배경 그리기 클래스를 constructor에서 호출해주면 끝난다</li>\n<li>주의할 것은 배경 컨텍스트를 인자로 넘겨줘야한다는 점이다</li>\n<li>고정된 배경이기 때문에 animate() 함수에서 호출해줄 필요는 없다</li>\n</ul>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"javascript\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">//app.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">constructor</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">new</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-10 grvsc-t4tStz-1\">Background</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.backctx, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.stageWidth, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.stageHeight);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">createPlanets</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">animate</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">}</span></span></span></code></pre>\n<ul>\n<li>대신 애니메이션을 매번 그리는 캔버스는 fillRect로 칠하는 대신 clearRect로 비워준다</li>\n</ul>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"javascript\" data-index=\"7\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">//app.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">animate</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.canvas.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">clearRect</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">0</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">0</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.stageWidth, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.stageHeight);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">}</span></span></span></code></pre>\n<h3>그래디언트 설정하기</h3>\n<p><img src=\"https://user-images.githubusercontent.com/52592748/108346087-5aa2b800-7222-11eb-984f-ef4bb4ac0787.gif\" alt=\"gradientbackground\"></p>\n<ul>\n<li>이번에는 배경에 원형 그래디언트를 적용해보려고 한다</li>\n<li>\n<p>원형 그래디언트를 위해서는 그래디언트가 시작하는 원과 끝나는 원에 대한 정보가 필요하다</p>\n<ul>\n<li>x0, y0, r0은 시작하는 원의 중심과 반지름</li>\n<li>x1, y1, r1은 끝나는 원의 중심과 반지름이다</li>\n</ul>\n</li>\n</ul>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"javascript\" data-index=\"8\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">CanvasGradient ctx.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">createRadialGradient</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(x0, y0, r0, x1, y1, r1);</span></span></span></code></pre>\n<ul>\n<li>그래디언트 시작원과 끝원을 모두 캔버스 중심을 설정하고 원의 반지름은 각각 너비의 1/3과 1/1.5로 설정해주었다</li>\n<li>gif를 잘 보면 중심으로부터의 거리가 너비의 1/3인 지점부터 1/1.5인 지점까지 그래디언트가 적용되었다</li>\n</ul>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"javascript\" data-index=\"9\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">colorBackground</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(ctx) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">let</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> gradient </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> ctx.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">createRadialGradient</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.stageWidth </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">/</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">2</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.stageHeight </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">/</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">2</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.stageWidth </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">/</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">3</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.stageWidth </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">/</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">2</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.stageHeight </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">/</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">2</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.stageWidth </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">/</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">1.5</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  );</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">}</span></span></span></code></pre>\n<ul>\n<li>\n<p>이번에는 그래디언트 색을 설정해 준다</p>\n<ul>\n<li>처음과 끝, 이렇게 두 색을 설정했다</li>\n</ul>\n</li>\n<li>그리고 fillStyle을 만든 gradient로 해주면 완성</li>\n</ul>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"javascript\" data-index=\"10\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">//background.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">colorBackground</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(ctx) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  gradient.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">addColorStop</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">0</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&#39;#214568&#39;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  gradient.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">addColorStop</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">1</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&#39;#162133&#39;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  ctx.fillStyle </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> gradient;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">}</span></span></span></code></pre>\n<h3>빛나는 별 그리기</h3>\n<p><img src=\"https://user-images.githubusercontent.com/52592748/108346323-99387280-7222-11eb-8167-e992de12b682.gif\" alt=\"starbackground\"></p>\n<ul>\n<li>작은 원으로 별을 그리려고 한다</li>\n<li>별의 중심과 반지름은 랜덤으로 생성한다</li>\n</ul>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"javascript\" data-index=\"11\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">let</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> radius </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">Math</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">random</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">() </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">*</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">1</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">+</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">0.1</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">let</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> x </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> radius </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">+</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">Math</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">random</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">() </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">*</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> (</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.stageWidth </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">-</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> radius </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">*</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">2</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">let</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> y </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> radius </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">+</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">Math</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">random</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">() </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">*</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> (</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.stageHeight </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">-</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> radius </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">*</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">2</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">);</span></span></span></code></pre>\n<ul>\n<li>별은 흰색으로 하며 shadowColor 또한 흰색으로 해준다</li>\n<li>Blur는 30으로 해서 빛나는 효과를 적용했다</li>\n</ul>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"javascript\" data-index=\"12\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">ctx.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">beginPath</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">ctx.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">arc</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(x, y, radius, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">0</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">Math</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">PI</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">*</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">2</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">ctx.fillStyle </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&#39;white&#39;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">ctx.shadowColor </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&#39;white&#39;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">ctx.shadowBlur </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">30</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">ctx.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">fill</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">ctx.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">closePath</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">();</span></span></span></code></pre>\n<ul>\n<li>이를 모두 fillStars 라는 함수에 넣고 constructor에서 바로 호출했다</li>\n<li>별의 개수도 인자로 받도록 했다</li>\n</ul>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"javascript\" data-index=\"13\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">//background.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">constructor</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(startNumber, ctx, stageWidth, stageHeight) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.starNumber </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> starNuber;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">fillStars</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(ctx);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">}</span></span></span></code></pre>\n<ul>\n<li>이 함수에서는 별의 개수만큼 반복문을 돌려주었다</li>\n</ul>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"javascript\" data-index=\"14\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">//background.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">fillStars</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(ctx) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">for</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> (</span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">let</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> i </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">0</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">; i </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">&lt;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.starNumber; i</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">++</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">let</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> radius </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">Math</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">random</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">() </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">*</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">1</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">+</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">0.1</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">let</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> x </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> radius </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">+</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">Math</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">random</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">() </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">*</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> (</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.stageWidth </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">-</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> radius </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">*</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">2</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">let</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> y </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> radius </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">+</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">Math</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">random</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">() </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">*</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> (</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.stageHeight </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">-</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> radius </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">*</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">2</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    ctx.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">beginPath</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    ctx.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">arc</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(x, y, radius, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">0</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">Math</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">PI</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">*</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">2</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    ctx.fillStyle </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&#39;white&#39;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    ctx.shadowColor </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&#39;white&#39;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    ctx.shadowBlur </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">30</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    ctx.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">fill</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    ctx.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">closePath</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">}</span></span></span></code></pre>\n<ul>\n<li>별의 개수는 처음 호출시 받아오도록 했다</li>\n</ul>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"javascript\" data-index=\"15\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">//app.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">export</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">default</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">class</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-10 grvsc-t4tStz-5\">App</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">constructor</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">//별 개수 400개로 전달</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">new</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-10 grvsc-t4tStz-1\">Background</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">400</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.backctx, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.stageWidth, </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.stageHeight);</span></span></span></code></pre>\n<h3>태양 빛나는 효과 넣기</h3>\n<p><img src=\"https://user-images.githubusercontent.com/52592748/108346094-5c6c7b80-7222-11eb-83fa-bd3747152b26.gif\" alt=\"shiningsun\"></p>\n<ul>\n<li>태양인 경우만 빛효과를 추가해보려고 한다</li>\n<li>앞서 별이 빛나게 한 것처럼 shadowColor를 태양색으로 설정하고 shadowBlur를 줘서 빛나는 것처럼 보이게 했다</li>\n</ul>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"javascript\" data-index=\"16\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">//app.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">animate</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.planets.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">forEach</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">((</span><span class=\"grvsc-tiszgT-11 grvsc-t4tStz-6\">planet</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">) </span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">=&gt;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    </span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">if</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> (planet.name </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">===</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&#39;sun&#39;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">      </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.ctx.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">save</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">      </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.ctx.shadowColor </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> planet.color;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">      </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.ctx.shadowBlur </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">=</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> planet.radius </span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-9\">*</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-3\">1.5</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">      planet.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">update</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.ctx);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">      </span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.ctx.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">restore</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    } </span><span class=\"grvsc-tiszgT-5 grvsc-t4tStz-9\">else</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">      planet.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">update</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-1\">this</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">.ctx);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">  });</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">}</span></span></span></code></pre>\n<h2><a href=\"https://github.com/joey-ful/SolarSystem/commit/090e314b17850a8d2a32f691dff2994b518e088a\">밤하늘 완성 코드</a></h2>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .github-light-theme {\n    background-color: #ffffff;\n    color: #000000;\n  }\n  .github-light-theme .grvsc-tiszgT-6 { color: #6A737D; }\n  .github-light-theme .grvsc-tiszgT-1 { color: #000000; }\n  .github-light-theme .grvsc-tiszgT-7 { color: #005CC5; }\n  .github-light-theme .grvsc-tiszgT-8 { color: #032F62; }\n  .github-light-theme .grvsc-tiszgT-9 { color: #22863A; }\n  .github-light-theme .grvsc-tiszgT-10 { color: #6F42C1; }\n  .github-light-theme .grvsc-tiszgT-5 { color: #D73A49; }\n  .github-light-theme .grvsc-tiszgT-11 { color: #E36209; }\n  .github-light-theme .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(0, 0, 0, 0.05));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(0, 0, 0, 0.2));\n  }\n  body[data-theme=dark] .grvsc-ps-t4tStz { color: #ffffff; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-t4tStz-2 { color: #A19B8F; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-t4tStz-9 { color: #EB7E81; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-t4tStz-5 { color: #BB97E7; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-t4tStz-1 { color: #FFFFFF; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-t4tStz-10 { color: #9DCDF5; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-t4tStz-3 { color: #66B5F6; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-t4tStz-6 { color: #F39961; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(0, 0, 0, 0.05));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(0, 0, 0, 0.2));\n  }\n</style>","frontmatter":{"title":"[Solar System] 드래그 효과 업그레이드 (trailing, 배경레이어) - 삼각함수편","desc":"layer, background, gradient","thumbnail":{"childImageSharp":{"fixed":{"src":"/static/b4e70f9bc2c95ecbdc8536879878a910/2244e/thumbnail.jpg"}}},"date":"2021-02-18","category":"FrontEnd"}}},"pageContext":{"slug":"/blog/2021-02-18-solar-system-drag-upgrade/"}},"staticQueryHashes":["1990743003"]}